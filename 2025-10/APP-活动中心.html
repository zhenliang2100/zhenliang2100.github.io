<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title> 活动中心</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#36CFC9',
                        accent: '#FF7D00',
                        success: '#52C41A',
                        warning: '#FAAD14',
                        danger: '#F5222D',
                        info: '#40A9FF',
                        light: '#F5F7FA',
                        dark: '#1D2129'
                    },
                    fontFamily: {
                        sans: ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .hover-lift {
                @apply transform hover:-translate-y-0.5 transition-transform duration-200;
            }
            .touch-friendly {
                @apply min-h-[48px] min-w-[48px] flex items-center justify-center;
            }
            .card-shadow {
                @apply shadow-lg shadow-gray-100/80;
            }
            .gradient-bg {
                @apply bg-gradient-to-br from-primary/5 to-primary/10;
            }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen font-sans text-dark">
    <div class="container mx-auto px-6 py-8 max-w-7xl">
        <!-- 顶部标题和时间 -->
        <header class="mb-8">
            <div class="flex justify-between items-center">
                <h1 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold text-dark">激励活动中心</h1>
                <div class="flex items-center text-gray-500">
                    <i class="fa fa-refresh mr-2"></i>
                    <span id="current-time" class="text-sm md:text-base"></span>
                    <span class="ml-2 text-xs text-primary">数据更新时间</span>
                </div>
            </div>
        </header>

        <div class="flex flex-col lg:flex-row gap-8">
            <!-- 左侧：个人信息和荣誉墙 -->
            <div class="lg:w-1/3 space-y-6">
                <!-- 员工个人信息卡片 -->
                <div class="bg-white rounded-2xl p-6 card-shadow">
                    <div class="flex items-center mb-4">
                        <div class="w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center text-primary text-2xl font-bold">
                            张
                        </div>
                        <div class="ml-4">
                            <h2 class="text-xl font-bold">张明</h2>
                            <div class="flex flex-wrap gap-2 mt-2">
                                <span class="px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full">2022.03入职</span>
                                <span class="px-2 py-1 bg-accent/10 text-accent text-xs rounded-full">延保升级</span>
                                <span class="flex items-center px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full">
                                    <i class="fa fa-map-marker mr-1"></i>
                                    北京朝阳店
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                

                <!-- 荣誉墙 -->
                <div class="bg-white rounded-2xl p-6 card-shadow">
                    <h3 class="text-lg font-bold mb-4 flex items-center">
                        <i class="fa fa-trophy text-warning mr-2"></i>
                        荣誉墙
                    </h3>
                    <div class="space-y-3 max-h-[300px] overflow-y-auto pr-2">
                        <!-- 金秋销售冲刺活动 - 第一周一等奖 -->
                        <div class="p-3 bg-gray-50 rounded-xl hover:bg-gray-100 cursor-pointer transition-colors duration-200" onclick="switchToActivity('golden-autumn')">
                            <div class="flex justify-between items-start mb-1">
                                <span class="font-medium">金秋销售冲刺</span>
                                <span class="px-2 py-0.5 bg-warning/10 text-warning text-xs rounded-full">一等奖</span>
                            </div>
                            <div class="text-xs text-gray-500 mt-1">2023-09-01 00:00 - 2023-09-10 23:59</div>
                            <div class="flex justify-between items-center mt-1">
                                <span class="text-xs text-gray-500">评选周期：第一周</span>
                                <span class="text-success font-bold">¥1,000奖金</span>
                            </div>
                        </div>
                        <!-- 金秋销售冲刺活动 - 第二周三等奖 -->
                        <div class="p-3 bg-gray-50 rounded-xl hover:bg-gray-100 cursor-pointer transition-colors duration-200" onclick="switchToActivity('golden-autumn')">
                            <div class="flex justify-between items-start mb-1">
                                <span class="font-medium">金秋销售冲刺</span>
                                <span class="px-2 py-0.5 bg-info/10 text-info text-xs rounded-full">三等奖</span>
                            </div>
                            <div class="text-xs text-gray-500 mt-1">2023-09-11 00:00 - 2023-09-20 23:59</div>
                            <div class="flex justify-between items-center mt-1">
                                <span class="text-xs text-gray-500">评选周期：第二周</span>
                                <span class="text-success font-bold">¥400奖金</span>
                            </div>
                        </div>
                        
                        <!-- 新客拓展计划 -->
                        <div class="p-3 bg-gray-50 rounded-xl hover:bg-gray-100 cursor-pointer transition-colors duration-200" onclick="switchToActivity('new-customer')">
                            <div class="flex justify-between items-start mb-1">
                                <span class="font-medium">新客拓展计划</span>
                            </div>
                            <div class="text-xs text-gray-500 mt-1">2023-09-05 00:00 - 2023-09-15 23:59</div>
                            <div class="flex justify-between items-center mt-1">
                                <span class="text-xs text-gray-500">评选周期：9月15日</span>
                                <span class="text-success font-bold">¥500奖金</span>
                            </div>
                        </div>
                        
                        <!-- 夏季清凉促销 -->
                        <div class="p-3 bg-gray-50 rounded-xl hover:bg-gray-100 cursor-pointer transition-colors duration-200" onclick="switchToActivity('summer-promotion')">
                            <div class="flex justify-between items-start mb-1">
                                <span class="font-medium">夏季清凉促销</span>
                            </div>
                            <div class="text-xs text-gray-500 mt-1">2023-07-01 00:00 - 2023-07-31 23:59</div>
                            <div class="flex justify-end mt-1">
                                <span class="text-accent font-bold">奶茶一杯</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 右侧：活动内容 -->
            <div class="lg:w-2/3">
                <!-- 活动状态标签页 -->
                <div class="mb-8">
                    <div class="flex space-x-2 bg-gray-100 rounded-xl p-1">
                        <button onclick="switchTab('upcoming')" id="tab-upcoming" class="tab-btn flex-1 py-3 px-4 rounded-lg font-medium transition-all duration-300 hover-lift touch-friendly">
                            <i class="fa fa-clock-o mr-2"></i>
                            即将开始
                        </button>
                        <button onclick="switchTab('ongoing')" id="tab-ongoing" class="tab-btn flex-1 py-3 px-4 rounded-lg font-medium transition-all duration-300 hover-lift touch-friendly bg-white text-primary shadow-md">
                            <i class="fa fa-play-circle mr-2"></i>
                            进行中
                        </button>
                        <button onclick="switchTab('completed')" id="tab-completed" class="tab-btn flex-1 py-3 px-4 rounded-lg font-medium transition-all duration-300 hover-lift touch-friendly">
                            <i class="fa fa-check-circle mr-2"></i>
                            已结束
                        </button>
                    </div>
                </div>

                <!-- 活动轮播容器 -->
                <div class="relative">
                    <!-- 即将开始的活动 -->
                    <div id="upcoming-content" class="hidden">
                        <div class="bg-white rounded-2xl p-6 card-shadow mb-6">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 class="text-xl font-bold text-info">国庆黄金周促销</h3>
                                    <p class="text-gray-500 text-sm mt-1" id="national-day-time">2023年9月25日 - 10月7日</p>
                                </div>
                                <button onclick="openDetail('national-day')" class="text-info hover:text-info/80 transition-colors">
                                    <i class="fa fa-info-circle text-xl"></i>
                                </button>
                            </div>
                            
                            <div class="mb-4">
                                <p class="text-gray-600">国庆期间针对新老客户推出的专项促销活动，重点推广延保服务和权益升级套餐。</p>
                            </div>
                            
                            <div class="bg-info/5 p-4 rounded-xl">
                                <div class="flex items-center justify-between">
                                    <span class="font-medium">活动即将开始</span>
                                    <span class="text-info font-bold" id="national-day-countdown">10天8小时</span>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-2xl p-6 card-shadow">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 class="text-xl font-bold text-warning">会员专享服务周</h3>
                                    <p class="text-gray-500 text-sm mt-1" id="member-week-time">2023年10月10日 - 10月16日</p>
                                </div>
                                <button onclick="openDetail('member-week')" class="text-warning hover:text-warning/80 transition-colors">
                                    <i class="fa fa-info-circle text-xl"></i>
                                </button>
                            </div>
                            
                            <div class="mb-4">
                                <p class="text-gray-600">针对会员客户的专属服务周活动，提供免费检测和升级优惠，提升会员满意度。</p>
                            </div>
                            
                            <!-- 日期标签 -->
                            <div class="flex flex-wrap gap-2 mb-6">
                                <button class="date-tab px-4 py-2 rounded-lg bg-warning text-white text-sm font-medium" onclick="showDate('member-week', '10-10')">10月10日</button>
                                <button class="date-tab px-4 py-2 rounded-lg bg-gray-100 text-gray-600 text-sm font-medium" onclick="showDate('member-week', '10-13')">10月13日</button>
                                <button class="date-tab px-4 py-2 rounded-lg bg-gray-100 text-gray-600 text-sm font-medium" onclick="showDate('member-week', '10-16')">10月16日</button>
                            </div>
                            
                            <!-- 获奖名单 - 10月10日 -->
                            <div id="member-week-10-10" class="date-content">
                                <div class="space-y-4">
                                    <div class="p-4 bg-warning/5 rounded-xl border-l-4 border-warning">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">张三</p>
                                                <p class="text-sm text-gray-500">上海浦东店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥1,000奖金</span>
                                                <span class="text-xs text-gray-500">一等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">李四</p>
                                                <p class="text-sm text-gray-500">北京朝阳店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥800奖金</span>
                                                <span class="text-xs text-gray-500">二等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">王五</p>
                                                <p class="text-sm text-gray-500">广州天河店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥600奖金</span>
                                                <span class="text-xs text-gray-500">三等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 更多获奖人员示例 -->
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">赵六</p>
                                                <p class="text-sm text-gray-500">深圳南山店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥500奖金</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">孙七</p>
                                                <p class="text-sm text-gray-500">杭州西湖店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥500奖金</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 展开/收起按钮 -->
                                <div class="text-center mt-4">
                                    <button class="expand-btn text-warning font-medium hover:text-warning/80 transition-colors" onclick="toggleExpand(this, 'member-week-10-10')">
                                        展开全部 <i class="fa fa-chevron-down ml-1 text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- 获奖名单 - 10月13日 (默认隐藏) -->
                            <div id="member-week-10-13" class="date-content hidden">
                                <div class="space-y-4">
                                    <div class="p-4 bg-warning/5 rounded-xl border-l-4 border-warning">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">周杰</p>
                                                <p class="text-sm text-gray-500">成都锦江店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥1,000奖金</span>
                                                <span class="text-xs text-gray-500">一等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">吴敏</p>
                                                <p class="text-sm text-gray-500">重庆渝中店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥800奖金</span>
                                                <span class="text-xs text-gray-500">二等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">陈静</p>
                                                <p class="text-sm text-gray-500">南京鼓楼店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥600奖金</span>
                                                <span class="text-xs text-gray-500">三等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 更多获奖人员示例 -->
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">刘涛</p>
                                                <p class="text-sm text-gray-500">沈阳和平店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥500奖金</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">张丽</p>
                                                <p class="text-sm text-gray-500">大连中山区店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥500奖金</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 展开/收起按钮 -->
                                <div class="text-center mt-4">
                                    <button class="expand-btn text-warning font-medium hover:text-warning/80 transition-colors" onclick="toggleExpand(this, 'member-week-10-13')">
                                        展开全部 <i class="fa fa-chevron-down ml-1 text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- 获奖名单 - 10月16日 (默认隐藏) -->
                            <div id="member-week-10-16" class="date-content hidden">
                                <div class="space-y-4">
                                    <div class="p-4 bg-warning/5 rounded-xl border-l-4 border-warning">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">杨洋</p>
                                                <p class="text-sm text-gray-500">武汉江汉店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥1,000奖金</span>
                                                <span class="text-xs text-gray-500">一等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">黄丽</p>
                                                <p class="text-sm text-gray-500">西安雁塔店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥800奖金</span>
                                                <span class="text-xs text-gray-500">二等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 更多获奖人员示例 -->
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">马强</p>
                                                <p class="text-sm text-gray-500">青岛崂山店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥600奖金</span>
                                                <span class="text-xs text-gray-500">三等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">林娜</p>
                                                <p class="text-sm text-gray-500">厦门思明店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥500奖金</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">何军</p>
                                                <p class="text-sm text-gray-500">福州鼓楼店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥500奖金</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 展开/收起按钮 -->
                                <div class="text-center mt-4">
                                    <button class="expand-btn text-warning font-medium hover:text-warning/80 transition-colors" onclick="toggleExpand(this, 'member-week-10-16')">
                                        展开全部 <i class="fa fa-chevron-down ml-1 text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="bg-warning/5 p-4 rounded-xl">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="font-medium">活动即将开始</span>
                                    <span class="text-warning font-bold" id="member-week-countdown">20天8小时</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 进行中的活动 -->
                    <div id="ongoing-content">
                        <!-- 金秋销售冲刺 -->
                        <div id="golden-autumn" class="bg-white rounded-2xl p-6 card-shadow mb-6">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 class="text-xl font-bold text-primary">金秋销售冲刺</h3>
                                    <p class="text-gray-500 text-sm mt-1" id="golden-autumn-time">2023年9月1日 - 9月30日</p>
                                </div>
                                <button onclick="openDetail('golden-autumn')" class="text-primary hover:text-primary/80 transition-colors">
                                    <i class="fa fa-info-circle text-xl"></i>
                                </button>
                            </div>
                            
                            <!-- 活动进度 -->
                            <div class="mb-6">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-500 text-sm">活动进度</span>
                                    <span class="text-sm font-medium">65%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                                    <div class="bg-primary h-2.5 rounded-full" style="width: 65%"></div>
                                </div>
                            </div>
                            
                            <!-- 日期标签 -->
                            <div class="flex flex-wrap gap-2 mb-6">
                                <button class="date-tab px-4 py-2 rounded-lg bg-primary text-white text-sm font-medium" onclick="showDate('golden-autumn', '9-10')">9月10日</button>
                                <button class="date-tab px-4 py-2 rounded-lg bg-gray-100 text-gray-600 text-sm font-medium" onclick="showDate('golden-autumn', '9-17')">9月17日</button>
                                <button class="date-tab px-4 py-2 rounded-lg bg-gray-100 text-gray-600 text-sm font-medium" onclick="showDate('golden-autumn', '9-24')">9月24日</button>
                                <button class="date-tab px-4 py-2 rounded-lg bg-gray-100 text-gray-600 text-sm font-medium" onclick="showDate('golden-autumn', '10-1')">10月1日</button>
                            </div>
                            
                            <!-- 获奖名单 - 9月10日 -->
                            <div id="golden-autumn-9-10" class="date-content">
                                <div class="space-y-4">
                                    <div class="p-4 bg-primary/5 rounded-xl border-l-4 border-primary">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">李华</p>
                                                <p class="text-sm text-gray-500">上海浦东店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥1,000奖金</span>
                                                <span class="text-xs text-gray-500">一等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">张明</p>
                                                <p class="text-sm text-gray-500">北京朝阳店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥1,000奖金</span>
                                                <span class="text-xs text-gray-500">一等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">王芳</p>
                                                <p class="text-sm text-gray-500">广州天河店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥800奖金</span>
                                                <span class="text-xs text-gray-500">二等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">赵伟</p>
                                                <p class="text-sm text-gray-500">深圳南山店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥600奖金</span>
                                                <span class="text-xs text-gray-500">三等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">刘强</p>
                                                <p class="text-sm text-gray-500">成都锦江店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-accent font-bold block">奶茶一杯</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 更多获奖人员示例 -->
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">陈静</p>
                                                <p class="text-sm text-gray-500">杭州西湖店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥500奖金</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">杨洋</p>
                                                <p class="text-sm text-gray-500">南京鼓楼店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥500奖金</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">黄丽</p>
                                                <p class="text-sm text-gray-500">武汉江汉店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-accent font-bold block">星巴克咖啡券</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">周杰</p>
                                                <p class="text-sm text-gray-500">重庆渝中店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-accent font-bold block">奶茶一杯</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">吴敏</p>
                                                <p class="text-sm text-gray-500">西安雁塔店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-accent font-bold block">奶茶一杯</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 展开/收起按钮 -->
                                <div class="text-center mt-4">
                                    <button class="expand-btn text-primary font-medium hover:text-primary/80 transition-colors" onclick="toggleExpand(this, 'golden-autumn-9-10')">
                                        展开全部 <i class="fa fa-chevron-down ml-1 text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- 获奖名单 - 9月17日 (默认隐藏) -->
                            <div id="golden-autumn-9-17" class="date-content hidden">
                                <div class="space-y-4">
                                    <div class="p-4 bg-primary/5 rounded-xl border-l-4 border-primary">
                                        <div class="flex justify-between items-center">
                                            <div>
                                                <p class="font-bold">王芳</p>
                                                <p class="text-sm text-gray-500">广州天河店</p>
                                            </div>
                                            <span class="text-success font-bold">¥1,000奖金</span>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl">
                                        <div class="flex justify-between items-center">
                                            <div>
                                                <p class="font-bold">赵伟</p>
                                                <p class="text-sm text-gray-500">深圳南山店</p>
                                            </div>
                                            <span class="text-success font-bold">¥800奖金</span>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl">
                                        <div class="flex justify-between items-center">
                                            <div>
                                                <p class="font-bold">李华</p>
                                                <p class="text-sm text-gray-500">上海浦东店</p>
                                            </div>
                                            <span class="text-success font-bold">¥600奖金</span>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl">
                                        <div class="flex justify-between items-center">
                                            <div>
                                                <p class="font-bold">张明</p>
                                                <p class="text-sm text-gray-500">北京朝阳店</p>
                                            </div>
                                            <span class="text-accent font-bold">奶茶一杯</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 其他日期内容类似，略去 -->
                        </div>

                        <!-- 新客拓展计划 -->
                        <div id="new-customer" class="bg-white rounded-2xl p-6 card-shadow">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 class="text-xl font-bold text-secondary">新客拓展计划</h3>
                                    <p class="text-gray-500 text-sm mt-1" id="new-customer-time">2023年9月5日 - 10月5日</p>
                                </div>
                                <button onclick="openDetail('new-customer')" class="text-secondary hover:text-secondary/80 transition-colors">
                                    <i class="fa fa-info-circle text-xl"></i>
                                </button>
                            </div>
                            
                            <!-- 活动进度 -->
                            <div class="mb-6">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-500 text-sm">活动进度</span>
                                    <span class="text-sm font-medium">45%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                                    <div class="bg-secondary h-2.5 rounded-full" style="width: 45%"></div>
                                </div>
                            </div>
                            
                            <!-- 日期标签 -->
                            <div class="flex flex-wrap gap-2 mb-6">
                                <button class="date-tab px-4 py-2 rounded-lg bg-secondary text-white text-sm font-medium" onclick="showDate('new-customer', '9-15')">9月15日</button>
                                <button class="date-tab px-4 py-2 rounded-lg bg-gray-100 text-gray-600 text-sm font-medium" onclick="showDate('new-customer', '9-30')">9月30日</button>
                                <button class="date-tab px-4 py-2 rounded-lg bg-gray-100 text-gray-600 text-sm font-medium" onclick="showDate('new-customer', '10-5')">10月5日</button>
                            </div>
                            
                            <!-- 获奖名单 - 9月15日 -->
                            <div id="new-customer-9-15" class="date-content">
                                <div class="space-y-4">
                                    <div class="p-4 bg-secondary/5 rounded-xl border-l-4 border-secondary">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">赵伟</p>
                                                <p class="text-sm text-gray-500">深圳南山店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥800奖金</span>
                                                <span class="text-xs text-gray-500">一等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">张明</p>
                                                <p class="text-sm text-gray-500">北京朝阳店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥500奖金</span>
                                                <span class="text-xs text-gray-500">二等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">刘强</p>
                                                <p class="text-sm text-gray-500">成都锦江店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥300奖金</span>
                                                <span class="text-xs text-gray-500">三等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">陈静</p>
                                                <p class="text-sm text-gray-500">杭州西湖店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-accent font-bold block">星巴克咖啡券</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 更多获奖人员示例 -->
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">李华</p>
                                                <p class="text-sm text-gray-500">上海浦东店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥200奖金</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">王芳</p>
                                                <p class="text-sm text-gray-500">广州天河店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-accent font-bold block">奶茶一杯</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">周杰</p>
                                                <p class="text-sm text-gray-500">重庆渝中店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-accent font-bold block">奶茶一杯</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 展开/收起按钮 -->
                                <div class="text-center mt-4">
                                    <button class="expand-btn text-secondary font-medium hover:text-secondary/80 transition-colors" onclick="toggleExpand(this, 'new-customer-9-15')">
                                        展开全部 <i class="fa fa-chevron-down ml-1 text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- 其他日期内容类似，略去 -->
                        </div>
                    </div>

                    <!-- 已结束的活动 -->
                    <div id="completed-content" class="hidden">
                        <div id="summer-promotion" class="bg-white rounded-2xl p-6 card-shadow mb-6">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 class="text-xl font-bold text-accent">夏季清凉促销</h3>
                                    <p class="text-gray-500 text-sm mt-1" id="summer-promotion-time">2023年7月1日 - 8月31日</p>
                                </div>
                                <button onclick="openDetail('summer-promotion')" class="text-accent hover:text-accent/80 transition-colors">
                                    <i class="fa fa-info-circle text-xl"></i>
                                </button>
                            </div>
                            
                            <!-- 活动进度 -->
                            <div class="mb-6">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-500 text-sm">活动状态</span>
                                    <span class="text-sm font-medium text-success">已结束</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                                    <div class="bg-success h-2.5 rounded-full" style="width: 100%"></div>
                                </div>
                            </div>
                            
                            <!-- 日期标签 -->
                            <div class="flex flex-wrap gap-2 mb-6">
                                <button class="date-tab px-4 py-2 rounded-lg bg-accent text-white text-sm font-medium" onclick="showDate('summer-promotion', '7-31')">7月31日</button>
                                <button class="date-tab px-4 py-2 rounded-lg bg-gray-100 text-gray-600 text-sm font-medium" onclick="showDate('summer-promotion', '8-31')">8月31日</button>
                            </div>
                            
                            <!-- 获奖名单 - 7月31日 -->
                            <div id="summer-promotion-7-31" class="date-content">
                                <div class="space-y-4">
                                    <div class="p-4 bg-accent/5 rounded-xl border-l-4 border-accent">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">李华</p>
                                                <p class="text-sm text-gray-500">上海浦东店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥600奖金</span>
                                                <span class="text-xs text-gray-500">一等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">王芳</p>
                                                <p class="text-sm text-gray-500">广州天河店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥400奖金</span>
                                                <span class="text-xs text-gray-500">二等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">张明</p>
                                                <p class="text-sm text-gray-500">北京朝阳店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-accent font-bold block">奶茶一杯</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 更多获奖人员示例 -->
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">赵伟</p>
                                                <p class="text-sm text-gray-500">深圳南山店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-success font-bold block">¥300奖金</span>
                                                <span class="text-xs text-gray-500">三等奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">刘强</p>
                                                <p class="text-sm text-gray-500">成都锦江店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-accent font-bold block">奶茶一杯</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">陈静</p>
                                                <p class="text-sm text-gray-500">杭州西湖店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-accent font-bold block">星巴克咖啡券</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">杨洋</p>
                                                <p class="text-sm text-gray-500">南京鼓楼店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-accent font-bold block">奶茶一杯</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 bg-gray-50 rounded-xl collapsible-item hidden">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <p class="font-bold">黄丽</p>
                                                <p class="text-sm text-gray-500">武汉江汉店</p>
                                            </div>
                                            <div class="text-right">
                                                <span class="text-accent font-bold block">星巴克咖啡券</span>
                                                <span class="text-xs text-gray-500">参与奖</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 展开/收起按钮 -->
                                <div class="text-center mt-4">
                                    <button class="expand-btn text-accent font-medium hover:text-accent/80 transition-colors" onclick="toggleExpand(this, 'summer-promotion-7-31')">
                                        展开全部 <i class="fa fa-chevron-down ml-1 text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- 其他日期内容类似，略去 -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 活动详情弹窗 -->
    <div id="detail-modal" class="fixed inset-0 bg-black/50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white z-10">
                <h3 id="modal-title" class="text-xl font-bold">活动详情</h3>
                <button onclick="closeDetail()" class="text-gray-500 hover:text-gray-700 transition-colors">
                    <i class="fa fa-times text-xl"></i>
                </button>
            </div>
            <div id="modal-content" class="p-6 space-y-6">
                <!-- 内容将通过JS动态填充 -->
            </div>
        </div>
    </div>

    <script>
        // 活动详情数据
        // 活动时间数据（包含精确到分钟的时间信息）
        const activityTimes = {
            'golden-autumn': {
                startTime: '2023-09-01 00:00',
                endTime: '2023-09-30 23:59'
            },
            'new-customer': {
                startTime: '2023-09-05 00:00',
                endTime: '2023-10-05 23:59'
            },
            'summer-promotion': {
                startTime: '2023-07-01 00:00',
                endTime: '2023-08-31 23:59'
            },
            'national-day': {
                startTime: '2023-09-25 00:00',
                endTime: '2023-10-07 23:59'
            },
            'member-week': {
                startTime: '2023-10-10 00:00',
                endTime: '2023-10-16 23:59'
            }
        };

        const activityDetails = {
            'golden-autumn': {
                title: '金秋销售冲刺',
                color: 'text-primary',
                content: `
                    <div class="space-y-6">
                        <div>
                            <h4 class="font-bold text-lg mb-2">1、统计周期：</h4>
                            <ul class="list-disc pl-5 space-y-1 text-gray-600">
                                <li>第一周期：<span id="golden-autumn-detail-time-1">9月1日 - 9月10日</span></li>
                                <li>第二周期：<span id="golden-autumn-detail-time-2">9月11日 - 9月20日</span></li>
                                <li>第三周期：<span id="golden-autumn-detail-time-3">9月21日 - 9月30日</span></li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 class="font-bold text-lg mb-2">2、参选要求：</h4>
                            <p class="text-gray-600">当前周期应触客数 ≥ 15 人</p>
                        </div>
                        
                        <div>
                            <h4 class="font-bold text-lg mb-2">3、评选规则：</h4>
                            <p class="text-gray-600 mb-2">每个周期内，总成交额排名前5的人员获奖。</p>
                            <p class="text-gray-600">若成交额相同，则以周期内订单数量更高者为准。</p>
                        </div>
                        
                        <div>
                            <h4 class="font-bold text-lg mb-2">4、每个周期奖励设置：</h4>
                            <ul class="list-disc pl-5 space-y-1 text-gray-600">
                                <li>一等奖（1名）：1000元</li>
                                <li>二等奖（1名）：800元</li>
                                <li>三等奖（1名）：600元</li>
                                <li>参与奖（2名）：奶茶一杯</li>
                            </ul>
                        </div>
                    </div>
                `
            },
            'new-customer': {
                title: '新客拓展计划',
                color: 'text-secondary',
                content: `
                    <div class="space-y-6">
                        <div>
                            <h4 class="font-bold text-lg mb-2">1、统计周期：</h4>
                            <ul class="list-disc pl-5 space-y-1 text-gray-600">
                                <li>第一周期：<span id="new-customer-detail-time-1">9月5日 - 9月15日</span></li>
                                <li>第二周期：<span id="new-customer-detail-time-2">9月16日 - 9月30日</span></li>
                                <li>第三周期：<span id="new-customer-detail-time-3">10月1日 - 10月5日</span></li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 class="font-bold text-lg mb-2">2、参选要求：</h4>
                            <p class="text-gray-600">所有在职销售人员均可参与</p>
                        </div>
                        
                        <div>
                            <h4 class="font-bold text-lg mb-2">3、评选规则：</h4>
                            <p class="text-gray-600 mb-2">每个周期内，新客户数量排名前4的人员获奖。</p>
                            <p class="text-gray-600">新客户定义：首次在本店消费的客户。</p>
                        </div>
                        
                        <div>
                            <h4 class="font-bold text-lg mb-2">4、每个周期奖励设置：</h4>
                            <ul class="list-disc pl-5 space-y-1 text-gray-600">
                                <li>一等奖（1名）：800元</li>
                                <li>二等奖（1名）：500元</li>
                                <li>三等奖（1名）：300元</li>
                                <li>参与奖（1名）：星巴克咖啡券一张</li>
                            </ul>
                        </div>
                    </div>
                `
            },
            'summer-promotion': {
                title: '夏季清凉促销',
                color: 'text-accent',
                content: `
                    <div class="space-y-6">
                        <div>
                            <h4 class="font-bold text-lg mb-2">1、统计周期：</h4>
                            <ul class="list-disc pl-5 space-y-1 text-gray-600">
                                <li>第一周期：<span id="summer-promotion-detail-time-1">7月1日 - 7月31日</span></li>
                                <li>第二周期：<span id="summer-promotion-detail-time-2">8月1日 - 8月31日</span></li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 class="font-bold text-lg mb-2">2、参选要求：</h4>
                            <p class="text-gray-600">当前周期应触客数 ≥ 10 人</p>
                        </div>
                        
                        <div>
                            <h4 class="font-bold text-lg mb-2">3、评选规则：</h4>
                            <p class="text-gray-600">每个周期内，轻改升级套餐销量排名前三的人员获奖。</p>
                        </div>
                        
                        <div>
                            <h4 class="font-bold text-lg mb-2">4、每个周期奖励设置：</h4>
                            <ul class="list-disc pl-5 space-y-1 text-gray-600">
                                <li>一等奖（1名）：600元</li>
                                <li>二等奖（1名）：400元</li>
                                <li>参与奖（若干）：奶茶一杯</li>
                            </ul>
                        </div>
                    </div>
                `
            },
            'national-day': {
                title: '国庆黄金周促销',
                color: 'text-info',
                content: `
                    <div class="space-y-6">
                        <div>
                            <h4 class="font-bold text-lg mb-2">1、统计周期：</h4>
                            <p class="text-gray-600" id="national-day-detail-time">2023年9月25日 - 10月7日</p>
                        </div>
                        
                        <div>
                            <h4 class="font-bold text-lg mb-2">2、参选要求：</h4>
                            <p class="text-gray-600">所有在职销售人员均可参与</p>
                        </div>
                        
                        <div>
                            <h4 class="font-bold text-lg mb-2">3、评选规则：</h4>
                            <p class="text-gray-600 mb-2">活动期间，延保服务和权益升级套餐总销量排名前10的人员获奖。</p>
                            <p class="text-gray-600">以实际成交金额为主要考核指标。</p>
                        </div>
                        
                        <div>
                            <h4 class="font-bold text-lg mb-2">4、奖励设置：</h4>
                            <ul class="list-disc pl-5 space-y-1 text-gray-600">
                                <li>一等奖（1名）：2000元 + 荣誉证书</li>
                                <li>二等奖（2名）：1000元</li>
                                <li>三等奖（3名）：500元</li>
                                <li>参与奖（4名）：国庆大礼包一份</li>
                            </ul>
                        </div>
                    </div>
                `
            },
            'member-week': {
                title: '会员专享服务周',
                color: 'text-warning',
                content: `
                    <div class="space-y-6">
                        <div>
                            <h4 class="font-bold text-lg mb-2">1、统计周期：</h4>
                            <p class="text-gray-600" id="member-week-detail-time">2023年10月10日 - 10月16日</p>
                        </div>
                        
                        <div>
                            <h4 class="font-bold text-lg mb-2">2、参选要求：</h4>
                            <p class="text-gray-600">服务会员客户数量 ≥ 20 人</p>
                        </div>
                        
                        <div>
                            <h4 class="font-bold text-lg mb-2">3、评选规则：</h4>
                            <p class="text-gray-600 mb-2">活动期间，会员客户满意度评分排名前5的人员获奖。</p>
                            <p class="text-gray-600">满意度评分由系统根据客户反馈自动计算。</p>
                        </div>
                        
                        <div>
                            <h4 class="font-bold text-lg mb-2">4、奖励设置：</h4>
                            <ul class="list-disc pl-5 space-y-1 text-gray-600">
                                <li>一等奖（1名）：1500元</li>
                                <li>二等奖（1名）：800元</li>
                                <li>三等奖（1名）：500元</li>
                                <li>优秀奖（2名）：精美礼品一份</li>
                            </ul>
                        </div>
                    </div>
                `
            }
        };

        // 更新当前时间（仅在页面加载时显示）
        function updateTime() {
            const now = new Date();
            document.getElementById('current-time').textContent = now.toLocaleString('zh-CN', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
        }
        
        // 初始化时间（仅在页面加载时显示一次）
        updateTime();

        // 格式化时间显示（精确到时分）
        function formatTimeDisplay(timeStr) {
            const date = new Date(timeStr);
            const year = date.getFullYear();
            const month = (date.getMonth() + 1).toString().padStart(2, '0');
            const day = date.getDate().toString().padStart(2, '0');
            const hour = date.getHours().toString().padStart(2, '0');
            const minute = date.getMinutes().toString().padStart(2, '0');
            return `${year}年${month}月${day}日 ${hour}:${minute}`;
        }

        // 更新活动时间显示
        function updateActivityTimes() {
            // 更新即将开始的活动时间
            const nationalDayElement = document.querySelector('#upcoming-content .text-gray-500.text-sm.mt-1');
            if (nationalDayElement && activityTimes['national-day']) {
                nationalDayElement.textContent = `${formatTimeDisplay(activityTimes['national-day'].startTime)} - ${formatTimeDisplay(activityTimes['national-day'].endTime)}`;
            }

            // 更新会员专享服务周时间
            const memberWeekElements = document.querySelectorAll('#upcoming-content .text-gray-500.text-sm.mt-1');
            if (memberWeekElements.length > 1 && activityTimes['member-week']) {
                memberWeekElements[1].textContent = `${formatTimeDisplay(activityTimes['member-week'].startTime)} - ${formatTimeDisplay(activityTimes['member-week'].endTime)}`;
            }

            // 更新进行中的活动时间
            // 金秋销售冲刺
            const goldenAutumnElement = document.querySelector('#ongoing-content .text-gray-500.text-sm.mt-1');
            if (goldenAutumnElement && activityTimes['golden-autumn']) {
                goldenAutumnElement.textContent = `${formatTimeDisplay(activityTimes['golden-autumn'].startTime)} - ${formatTimeDisplay(activityTimes['golden-autumn'].endTime)}`;
            }

            // 新客拓展计划
            const newCustomerElements = document.querySelectorAll('#ongoing-content .text-gray-500.text-sm.mt-1');
            if (newCustomerElements.length > 1 && activityTimes['new-customer']) {
                newCustomerElements[1].textContent = `${formatTimeDisplay(activityTimes['new-customer'].startTime)} - ${formatTimeDisplay(activityTimes['new-customer'].endTime)}`;
            }

            // 更新已结束的活动时间
            const summerPromotionElement = document.querySelector('#completed-content .text-gray-500.text-sm.mt-1');
            if (summerPromotionElement && activityTimes['summer-promotion']) {
                summerPromotionElement.textContent = `${formatTimeDisplay(activityTimes['summer-promotion'].startTime)} - ${formatTimeDisplay(activityTimes['summer-promotion'].endTime)}`;
            }
            
            // 更新活动详情时间
            // 国庆黄金周促销
            const nationalDayDetailElement = document.getElementById('national-day-detail-time');
            if (nationalDayDetailElement && activityTimes['national-day']) {
                nationalDayDetailElement.textContent = `${formatTimeDisplay(activityTimes['national-day'].startTime)} - ${formatTimeDisplay(activityTimes['national-day'].endTime)}`;
            }
            
            // 会员专享服务周
            const memberWeekDetailElement = document.getElementById('member-week-detail-time');
            if (memberWeekDetailElement && activityTimes['member-week']) {
                memberWeekDetailElement.textContent = `${formatTimeDisplay(activityTimes['member-week'].startTime)} - ${formatTimeDisplay(activityTimes['member-week'].endTime)}`;
            }
            
            // 金秋销售冲刺详情
            if (activityTimes['golden-autumn']) {
                const goldenAutumnDetailElements = [
                    document.getElementById('golden-autumn-detail-time-1'),
                    document.getElementById('golden-autumn-detail-time-2'),
                    document.getElementById('golden-autumn-detail-time-3')
                ];
                
                goldenAutumnDetailElements.forEach((element, index) => {
                    if (element) {
                        const periods = [
                            { start: '2023-09-01 00:00', end: '2023-09-10 23:59' },
                            { start: '2023-09-11 00:00', end: '2023-09-20 23:59' },
                            { start: '2023-09-21 00:00', end: '2023-09-30 23:59' }
                        ];
                        element.textContent = `${formatTimeDisplay(periods[index].start)} - ${formatTimeDisplay(periods[index].end)}`;
                    }
                });
            }
            
            // 新客拓展计划详情
            if (activityTimes['new-customer']) {
                const newCustomerDetailElements = [
                    document.getElementById('new-customer-detail-time-1'),
                    document.getElementById('new-customer-detail-time-2'),
                    document.getElementById('new-customer-detail-time-3')
                ];
                
                newCustomerDetailElements.forEach((element, index) => {
                    if (element) {
                        const periods = [
                            { start: '2023-09-05 00:00', end: '2023-09-15 23:59' },
                            { start: '2023-09-16 00:00', end: '2023-09-30 23:59' },
                            { start: '2023-10-01 00:00', end: '2023-10-05 23:59' }
                        ];
                        element.textContent = `${formatTimeDisplay(periods[index].start)} - ${formatTimeDisplay(periods[index].end)}`;
                    }
                });
            }
            
            // 夏季清凉促销详情
            if (activityTimes['summer-promotion']) {
                const summerPromotionDetailElements = [
                    document.getElementById('summer-promotion-detail-time-1'),
                    document.getElementById('summer-promotion-detail-time-2')
                ];
                
                summerPromotionDetailElements.forEach((element, index) => {
                    if (element) {
                        const periods = [
                            { start: '2023-07-01 00:00', end: '2023-07-31 23:59' },
                            { start: '2023-08-01 00:00', end: '2023-08-31 23:59' }
                        ];
                        element.textContent = `${formatTimeDisplay(periods[index].start)} - ${formatTimeDisplay(periods[index].end)}`;
                    }
                });
            }

            // 更新弹窗中的活动时间
            // 国庆黄金周促销
            const nationalDayDetailElementPopup = document.querySelector('[data-activity="national-day"] .text-gray-600');
            if (nationalDayDetailElementPopup && activityTimes['national-day']) {
                nationalDayDetailElementPopup.textContent = `${formatTimeDisplay(activityTimes['national-day'].startTime)} - ${formatTimeDisplay(activityTimes['national-day'].endTime)}`;
            }

            // 会员专享服务周
            const memberWeekDetailElementPopup = document.querySelector('[data-activity="member-week"] .text-gray-600');
            if (memberWeekDetailElementPopup && activityTimes['member-week']) {
                memberWeekDetailElementPopup.textContent = `${formatTimeDisplay(activityTimes['member-week'].startTime)} - ${formatTimeDisplay(activityTimes['member-week'].endTime)}`;
            }
        }

        // 页面加载完成后更新活动时间显示
        document.addEventListener('DOMContentLoaded', function() {
            updateActivityTimes();
            sortHonorWallActivities();
        });

        // 切换活动状态标签页
        function switchTab(tabName) {
            // 隐藏所有内容
            document.getElementById('upcoming-content').classList.add('hidden');
            document.getElementById('ongoing-content').classList.add('hidden');
            document.getElementById('completed-content').classList.add('hidden');
            
            // 重置所有标签样式
            document.getElementById('tab-upcoming').classList.remove('bg-white', 'text-primary', 'shadow-md');
            document.getElementById('tab-ongoing').classList.remove('bg-white', 'text-primary', 'shadow-md');
            document.getElementById('tab-completed').classList.remove('bg-white', 'text-primary', 'shadow-md');
            
            // 显示选中的内容和样式
            document.getElementById(`${tabName}-content`).classList.remove('hidden');
            document.getElementById(`tab-${tabName}`).classList.add('bg-white', 'text-primary', 'shadow-md');
        }

        // 显示特定日期的获奖名单
        function showDate(activity, date) {
            // 隐藏同一活动的所有日期内容
            document.querySelectorAll(`[id^="${activity}-"]`).forEach(el => {
                el.classList.add('hidden');
            });
            
            // 重置同一活动的所有日期标签样式
            document.querySelectorAll(`button[onclick*="${activity}"]`).forEach(btn => {
                btn.classList.remove('bg-primary', 'bg-secondary', 'bg-accent', 'bg-info', 'bg-warning', 'text-white');
                btn.classList.add('bg-gray-100', 'text-gray-600');
            });
            
            // 显示选中的日期内容和样式
            document.getElementById(`${activity}-${date}`).classList.remove('hidden');
            
            // 根据活动设置不同的主题色
            const btn = document.querySelector(`button[onclick="showDate('${activity}', '${date}')"]`);
            if (activity === 'golden-autumn') {
                btn.classList.add('bg-primary', 'text-white');
            } else if (activity === 'new-customer') {
                btn.classList.add('bg-secondary', 'text-white');
            } else if (activity === 'summer-promotion') {
                btn.classList.add('bg-accent', 'text-white');
            } else if (activity === 'national-day') {
                btn.classList.add('bg-info', 'text-white');
            } else if (activity === 'member-week') {
                btn.classList.add('bg-warning', 'text-white');
            }
        }

        // 荣誉墙活动数据（用于排序）
        const honorWallActivities = [
            {
                id: 'golden-autumn-1',
                name: '金秋销售冲刺',
                time: '2023-09-01 00:00 - 2023-09-10 23:59',
                award: '一等奖',
                amount: '¥1,000奖金',
                activityId: 'golden-autumn'
            },
            {
                id: 'golden-autumn-3',
                name: '金秋销售冲刺',
                time: '2023-09-11 00:00 - 2023-09-20 23:59',
                award: '三等奖',
                amount: '¥400奖金',
                activityId: 'golden-autumn'
            },
            {
                id: 'new-customer',
                name: '新客拓展计划',
                time: '2023-09-05 00:00 - 2023-09-15 23:59',
                award: '',
                amount: '¥500奖金',
                activityId: 'new-customer'
            },
            {
                id: 'summer-promotion',
                name: '夏季清凉促销',
                time: '2023-07-01 00:00 - 2023-07-31 23:59',
                award: '',
                amount: '奶茶一杯',
                activityId: 'summer-promotion'
            }
        ];

        // 按时间排序荣誉墙活动
        function sortHonorWallActivities() {
            // 按开始时间排序（从早到晚）
            honorWallActivities.sort((a, b) => {
                const timeA = a.time.split(' - ')[0]; // 获取开始时间
                const timeB = b.time.split(' - ')[0]; // 获取开始时间
                return new Date(timeA) - new Date(timeB);
            });
            
            // 重新渲染荣誉墙
            renderHonorWall();
        }

        // 渲染荣誉墙
        function renderHonorWall() {
            // 使用更准确的选择器来定位荣誉墙容器
            const honorWallContainer = document.querySelector('.space-y-3.max-h-\\[300px\\].overflow-y-auto.pr-2') || 
                                     document.querySelector('.space-y-3.overflow-y-auto');
            if (!honorWallContainer) return;
            
            // 清空现有内容
            honorWallContainer.innerHTML = '';
            
            // 添加排序后的活动
            honorWallActivities.forEach(activity => {
                const activityElement = document.createElement('div');
                activityElement.className = 'p-3 bg-gray-50 rounded-xl hover:bg-gray-100 cursor-pointer transition-colors duration-200';
                activityElement.onclick = () => switchToActivity(activity.activityId);
                
                let awardTag = '';
                if (activity.award) {
                    const awardClass = activity.award === '一等奖' ? 'bg-warning/10 text-warning' : 
                                     activity.award === '二等奖' ? 'bg-info/10 text-info' : 
                                     activity.award === '三等奖' ? 'bg-primary/10 text-primary' : 
                                     'bg-gray-100 text-gray-600';
                    awardTag = `<span class="px-2 py-0.5 ${awardClass} text-xs rounded-full">${activity.award}</span>`;
                }
                
                // 解析开始时间和结束时间
                const [startTime, endTime] = activity.time.split(' - ');
                
                activityElement.innerHTML = `
                    <div class="flex justify-between items-start mb-1">
                        <span class="font-medium">${activity.name}</span>
                        ${awardTag}
                    </div>
                    <div class="text-xs text-gray-500 mt-1">${activity.time}</div>
                    <div class="flex justify-between items-center mt-1">
                        ${activity.award ? `<span class="text-xs text-gray-500">评选周期：${activity.award === '一等奖' ? '第一周' : '第二周'}</span>` : 
                          `<span class="text-xs text-gray-500">评选周期：${formatSelectionPeriod(startTime)}</span>`}
                        <span class="${activity.amount.includes('¥') ? 'text-success font-bold' : 'text-accent font-bold'}">${activity.amount}</span>
                    </div>
                `;
                
                honorWallContainer.appendChild(activityElement);
            });
        }

        // 格式化评选周期
        function formatSelectionPeriod(startTime) {
            const date = new Date(startTime);
            const month = date.getMonth() + 1;
            const day = date.getDate();
            return `${month}月${day}日`;
        }

        // 从荣誉墙跳转到对应活动
        function switchToActivity(activityId) {
            // 切换到进行中或已结束标签页
            if (activityId === 'summer-promotion') {
                switchTab('completed');
            } else {
                switchTab('ongoing');
            }
            
            // 滚动到活动位置
            setTimeout(() => {
                const element = document.getElementById(activityId);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    // 高亮显示活动卡片
                    element.classList.add('ring-2', 'ring-primary');
                    setTimeout(() => {
                        element.classList.remove('ring-2', 'ring-primary');
                    }, 2000);
                }
            }, 300);
        }

        // 页面加载完成后排序荣誉墙活动
        document.addEventListener('DOMContentLoaded', function() {
            sortHonorWallActivities();
        });

        // 打开活动详情弹窗
        function openDetail(activityId) {
            const detail = activityDetails[activityId];
            if (detail) {
                document.getElementById('modal-title').className = `text-xl font-bold ${detail.color}`;
                document.getElementById('modal-title').textContent = detail.title;
                document.getElementById('modal-content').innerHTML = detail.content;
                document.getElementById('detail-modal').classList.remove('hidden');
                // 阻止背景滚动
                document.body.style.overflow = 'hidden';
            }
        }

        // 关闭活动详情弹窗
        function closeDetail() {
            document.getElementById('detail-modal').classList.add('hidden');
            // 恢复背景滚动
            document.body.style.overflow = '';
        }

        // 点击弹窗背景关闭
        document.getElementById('detail-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeDetail();
            }
        });

        // ESC键关闭弹窗
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && !document.getElementById('detail-modal').classList.contains('hidden')) {
                closeDetail();
            }
        });

        // 模拟倒计时功能
        function updateCountdowns() {
            // 这里只是模拟，实际项目中应该计算真实剩余时间
            const nationalDayCountdown = document.getElementById('national-day-countdown');
            if (nationalDayCountdown) {
                const currentText = nationalDayCountdown.textContent;
                const days = parseInt(currentText);
                nationalDayCountdown.textContent = `${days - 1}天7小时`;
            }
            
            const memberWeekCountdown = document.getElementById('member-week-countdown');
            if (memberWeekCountdown) {
                const currentText = memberWeekCountdown.textContent;
                const days = parseInt(currentText);
                memberWeekCountdown.textContent = `${days - 1}天7小时`;
            }
        }
        
        // 每小时更新一次倒计时（仅为示例）
        setInterval(updateCountdowns, 3600000);
        
        // 展开/收起获奖名单
        function toggleExpand(button, containerId) {
            const container = document.getElementById(containerId);
            const collapsibleItems = container.querySelectorAll('.collapsible-item');
            const isExpanded = !collapsibleItems[0].classList.contains('hidden');
            
            // 切换隐藏/显示状态
            collapsibleItems.forEach(item => {
                item.classList.toggle('hidden');
            });
            
            // 更新按钮文本和图标
            if (isExpanded) {
                button.innerHTML = '展开全部 <i class="fa fa-chevron-down ml-1 text-xs"></i>';
            } else {
                button.innerHTML = '收起 <i class="fa fa-chevron-up ml-1 text-xs"></i>';
            }
        }
    </script>
</body>
</html>
