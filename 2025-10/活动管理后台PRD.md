# 活动管理后台 PRD 

## 1. 需求背景

运营人员需要一个高效的工具来管理和查看各类营销活动。该页面将展示活动的详细信息，包括活动状态、时间安排、业务类型等，并允许运营人员创建、编辑、导入获奖名单及删除活动。通过统一的管理界面，提升运营效率，确保活动按时开展并有效跟踪活动效果。

## 2. 期望结果

- 运营人员能够快速创建新的营销活动，设置活动时间、业务类型、品类类型等基本信息。
- 支持对进行中和即将开始的活动进行编辑操作，已结束的活动不可编辑。
- 提供活动列表视图，支持按活动名称搜索、按状态筛选、按时间范围筛选。
- 支持导入获奖名单功能，但仅限于进行中的活动。
- 支持导出获奖名单功能，便于数据分析和报表制作。
- 活动列表默认按照创建时间倒序排列，方便查看最新活动。
- 支持删除活动功能，但进行中的活动不可删除。
- 支持推送活动通知功能，将活动信息推送到展业助手APP服务中心


## 3. 功能需求

### 功能描述

提供活动管理后台页面，展示营销活动的详细信息，并支持创建、编辑、导入获奖名单、删除等操作。

### 功能路径

功能路径：内容管理 -> 活动管理

### 功能权限

功能权限：线上运营

### 列表的排序规则

列表默认按照活动开始时间倒序排列。

### 数据为空时展示

如果没有活动数据，展示空白页面，并提示"暂无活动数据"。

### 列表默认分页展示

列表默认分页显示，每页显示10条活动数据。

### 筛选功能

1. 活动名称：支持模糊搜索
2. 活动状态：默认为全部状态，包含进行中、已结束、即将开始
3. 时间范围：支持选择开始时间和结束时间进行筛选

### 列表字段

| 字段名称 | 字段格式 | 选项 |
| -------- | -------- | ---- |
| 活动名称 | 文本，长度50 | - |
| 业务类型 | 下拉选择 | 延保、轻改、权益 |
| 品类类型 | 下拉选择 | 问界、通用、鸿蒙 |
| 活动时间 | YYYY-MM-DD HH:mm - YYYY-MM-DD HH:mm | - |
| 活动状态 | 标签 | 进行中、已结束、即将开始 |

### 表单字段（创建/编辑活动）

| 字段名称 | 字段格式 | 是否必填 | 默认值 | 选项 |
| -------- | -------- | -------- | ------ | ---- |
| 活动名称 | 文本，长度50 | 是 | - | 请输入活动名称 |
| 活动时间 | 日期时间选择器 | 是 | 开始时间为当前时间，结束时间为30天后 | 请选择活动时间 |
| 业务类型 | 下拉选择 | 是 | - | 延保、轻改、权益，请选择业务类型 |
| 品类类型 | 复选框 | 是 | - | 问界、通用、鸿蒙，请至少选择一个品类类型 |
| 活动封面 | 图片上传 | 是 | - | 支持jpg/png格式，大小不超过2MB |
| 评选规则 | 文本域，长度200字 | 是 | - | 请输入评选规则，支持粘贴emoji表情包，展业助手展示也需要支持emoji表情包 |

### 状态的说明

- 进行中：活动开始时间早于当前时间且结束时间晚于当前时间
- 已结束：活动结束时间早于当前时间
- 即将开始：活动开始时间晚于当前时间


### 操作列中各按钮的功能及操作流程

#### 按钮可见性规则

| 按钮 | 进行中状态 | 已结束状态 | 即将开始状态 |
| ---- | ---------- | ---------- | ------------ |
| 查看 | 可点击 | 可点击 | 可点击 |
| 编辑 | 可点击 | 不可点击 | 可点击 |
| 导入名单 | 可点击 | 不可点击 | 不可点击 |
| 删除 | 不可点击 | 可点击 | 可点击 |


#### 按钮功能说明

1. 查看：点击查看活动详情
2. 编辑：点击进入编辑模式
3. 导入名单：点击打开导入获奖名单弹窗
4. 删除：点击删除活动，需要二次确认防止误删，确认后提示"删除成功"，并刷新列表

### 弹窗需求说明

#### 创建活动弹窗


**字段信息：**

| 字段名称 | 字段格式 | 是否必填 | 默认值 | 选项 |
| -------- | -------- | -------- | ------ | ---- |
| 活动名称 | 文本，长度50 | 是 | - | 请输入活动名称 |
| 活动开始时间 | 日期时间选择器 | 是 | 当前时间 | 请选择活动时间 |
| 活动结束时间 | 日期时间选择器 | 是 | 30天后 | 请选择活动时间 |
| 业务类型 | 下拉选择 | 是 | - | 延保、轻改、权益，请选择业务类型，数据源来自“智享车生活 - 系统设置 - 店面配置的业务类型|
| 品类类型 | 复选框 | 是 | - | 问界、通用、鸿蒙，请至少选择一个品类类型，数据源来自“智享车生活 - 系统设置 - 店面配置的主营品牌，对应关系如下：鸿蒙智行 = 鸿蒙，AITO问界 = 问界，其他品牌 = 通用 |
| 活动封面 | 图片上传 | 否 | - | 支持jpg/png格式，大小不超过10MB |
| 评选规则 | 文本域，长度200字 | 否 | - | 请输入评选规则 |

**交互说明：**
1. 点击弹窗外的遮罩层或右上角关闭按钮可关闭弹窗
2. 点击"取消"按钮可关闭弹窗且不保存更改
3. 活动封面上传交互：
   - 选择图片后立即显示上传中Loading状态
   - 上传完成后显示上传成功状态并更新封面预览
   - 上传失败时显示错误提示并允许重新上传
4. 点击"创建活动"按钮进行表单验证：
- 验证必填项是否填写完整
- 验证活动时间是否合法（结束时间必须小于等于开始时间，结束时间不能早于当前时间）
- 验证通过后创建活动并关闭弹窗，显示成功提示，刷新活动列表
- 触发展业助手APP服务中心的通知，通知标题：”活动中心“， 通知内容：“有新的活动创建，请及时查看”

#### 查看活动详情弹窗

**字段信息：**

| 字段名称 | 字段格式 | 是否必填 | 默认值 | 选项 |
| -------- | -------- | -------- | ------ | ---- |
| 活动名称 | 文本，长度50 | 是 | - | - |
| 活动状态 | 标签 | 是 | - | 进行中、已结束、即将开始 |
| 业务类型 | 下拉选择 | 是 | - | 延保、轻改、权益 |
| 品类类型 | 下拉选择 | 是 | - | 问界、通用、鸿蒙 |
| 开始时间 | YYYY-MM-DD HH:mm | 是 | - | - |
| 结束时间 | YYYY-MM-DD HH:mm | 是 | - | - |
| 评选规则 | 文本域，长度200字 | 是 | - | 支持展示emoji表情包 |
| 获奖人姓名 | 文本，长度20 | 否 | - | - |
| 手机号 | 文本，长度11 | 否 | - | - |
| 奖项 | 文本，长度20 | 否 | - | - |
| 品类 | 文本，长度20 | 否 | - | - |

**交互说明：**
1. 点击弹窗外的遮罩层或右上角关闭按钮可关闭弹窗
2. 点击"导出名单"按钮可将当前评选周期的获奖名单导出为excel文件，文件名格式为：活动名称_获奖名单.xlsx，若存在多个评选周期，每个评选周期的获奖名单分别导出为不同的sheet，sheet名称为评选周期名称，表头包含：获奖人姓名、手机号、奖项、品类、备注

#### 编辑活动弹窗

**字段信息：**

| 字段名称 | 字段格式 | 是否必填 | 默认值 | 选项 |
| -------- | -------- | -------- | ------ | ---- |
| 活动名称 | 文本，长度50 | 是 | - | 请输入活动名称 |
| 活动开始时间 | 日期时间选择器 | 是 | 原活动开始时间 | 请选择活动时间 |
| 活动结束时间 | 日期时间选择器 | 是 | 原活动结束时间 | 请选择活动时间 |
| 业务类型 | 下拉选择 | 是 | 原业务类型 | 延保、轻改、权益，请选择业务类型 |
| 品类类型 | 复选框 | 是 | 原品类类型 | 问界、通用、鸿蒙，请至少选择一个品类类型 |
| 活动封面 | 图片上传 | 是 | 原活动封面 | 支持jpg/png格式，大小不超过2MB |
| 评选规则 | 文本域，长度200字 | 是 | 原评选规则 | 请输入评选规则，支持粘贴emoji表情包，展业助手展示也需要支持emoji表情包 |

**交互说明：**
1. 点击弹窗外的遮罩层或右上角关闭按钮可关闭弹窗
2. 点击"取消"按钮可关闭弹窗且不保存更改
3. 活动封面上传交互：
   - 选择图片后立即显示上传中Loading状态
   - 上传完成后显示上传成功状态并更新封面预览
   - 上传失败时显示错误提示并允许重新上传
4. 点击"保存活动"按钮进行表单验证：
   - 验证必填项是否填写完整
   - 验证活动时间是否合法（结束时间必须小于等于开始时间，结束时间不能早于当前时间）
   - 验证通过后保存更改并关闭弹窗，显示成功提示，刷新活动列表（需要更新相关活动状态）

#### 导入获奖名单弹窗

**字段信息：**

| 字段名称 | 字段格式 | 是否必填 | 默认值 | 选项 | 备注 |
| -------- | -------- | -------- | ------ | ---- | ---- |
| 活动名称 | 文本 | 是 | - | - | 不可编辑 |
| 活动时间 | YYYY-MM-DD HH:mm - YYYY-MM-DD HH:mm | 是 | - | - | 不可编辑 |
| 评选周期 | 下拉选择 | 是 | - | 请选择评选周期 | 只能选择已有评选周期或创建新的评选周期 |
| 评选周期名称 | 文本，长度10 | 否 | - | 请输入评选周期名称 | 创建新评选周期时必填 |
| 上传文件 | 文件上传 | 是 | - | 支持.xls、.xlsx格式，大小不超过5MB | - |

**交互说明：**
1. 点击弹窗外的遮罩层或右上角关闭按钮可关闭弹窗
2. 点击"取消"按钮可关闭弹窗且不保存更改
3. 文件上传交互：
   - 选择文件或拖拽文件后立即显示上传中Loading状态
   - 上传完成后显示上传成功状态
   - 上传失败时显示错误提示并允许重新上传（包含表头错误、手机号格式错误、奖项品类错误等）
4. 点击"导入名单"按钮进行表单验证：
   - 若该活动已存在评选周期，评选周期必须选择，若选中的周期已存在获奖名单，提示用户是否确认覆盖或是追加获奖名单，用户确认后导入文件
   - 文件必须上传
   - 验证通过后导入文件并关闭弹窗，显示成功提示
5. 触发展业助手APP服务中心的通知，通知标题：”活动中心“， 通知内容：“有新的活动获奖名单，请及时查看”



## 埋点统计规范

埋点数据，需要通过企微群进行周推送，统计使用人数和使用次数

### 通用内容（适用于所有需求）

- 页面信息：记录页面ID或名称（活动管理后台）
- 打开时间：记录页面加载的时间戳
- 使用者的UUID信息：记录唯一用户ID（从登录会话获取，并匿名化处理）

### 按需求类型定制内容

#### 数据列表类型

- 导出按钮点击：记录点击导出获奖名单按钮的事件的时间戳和使用者的UUID信息
- 查看按钮点击：记录点击查看活动详情按钮的事件的时间戳和使用者的UUID信息
- 编辑按钮点击：记录点击编辑活动按钮的事件的时间戳和使用者的UUID信息
- 删除按钮点击：记录点击删除活动按钮的事件的时间戳和使用者的UUID信息

