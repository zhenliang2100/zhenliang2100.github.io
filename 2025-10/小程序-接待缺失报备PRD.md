# 生意助手员工版小程序 - 接待缺失报备 PRD 

## 1. 需求背景

驻店零售人员在使用平板进行客户接待过程中，由于设备故障、网络问题或操作失误等原因，可能出现接待记录未能成功上传的情况。为确保接待数据的完整性，需要提供一个便捷的报备页面，允许驻店零售人员快速上报缺失接待的原因。该页面将展示需要报备的客户信息，并提供原因选择和提交功能，帮助运营团队及时了解并处理接待数据缺失问题。

## 2. 期望结果

- 驻店零售人员能够通过日历选择需要报备的日期，系统自动展示该日期下缺失接待的客户列表。
- 页面展示清晰的统计数据，包括售前、售后、总触客数和录音数，帮助用户了解整体接待情况。
- 提供简洁的表单界面，每个客户信息区域包含客户姓名和缺失原因选择下拉框。
- 支持为多个客户同时选择缺失原因并一次性提交报备。

## 3. 功能需求

### 功能描述

提供接待缺失报备页面，允许驻店零售人员为未能成功上传的客户接待记录进行原因报备。

### 功能路径

功能路径（常驻）：生意助手小程序 -> 首页 -> 接待缺失报备
功能路径（动态）：生意助手小程序 -> 首页 -> 今日代办 （标题：接待缺失报备 提示：请报备缺失接待客户的原因） 按钮：去报备，每次进入首页都进行检查，近7天内只要有尚未报备的客户，就会在今日代办中显示该条记录

### 功能权限

功能权限：驻店零售
可见权限：该门店在智享车生活 - 系统设置 - 店面设置 - 店铺设置 - 运营性质等于直营并且业务类型包含（权益或者延保），其余门店看不到该入口也不会进行接待记录缺失需要报备的代办提醒

### 列表的排序规则

客户列表按照客户编号顺序排列（客户1、客户2、客户3...）。

### 数据为空时展示

如果选定日期下没有缺失接待记录，展示空白页面，并提示"该日期暂无缺失接待记录"。
如果选定日期下尚未填写日报，展示空白页面，并提示"请先填写驻店日报"。


### 列表字段

| 字段名称 | 字段格式 | 选项 |
| -------- | -------- | ---- |
| 客户编号 | 数字 | 1, 2, 3... 该客户的数量基于总触客数 - 该员工在该门店该在2.1场景内当日提交的录音数。若小于等于0，则无需报备 |
| 客户姓名 | 文本，长度20 | 默认是客户1，员工可以手动修改成真实的客户姓名 |
| 缺失原因 | 下拉选择 | 接待记录上传失败、平板硬件故障、APP问题（卡顿、白屏）、客户未到店线上成交、接待时间短、一次接待多车、临时支援门店、二次接待回访、门店关系客户、资源车、线上成交客户、品牌/车型不匹配 、暂未收到平板、未配备平板 （使用配置管理，支持热更新）|


### 操作按钮功能说明

1. **提交报备**：点击后验证所有必填项，验证通过后提交报备信息并显示成功提示。
2. **放弃报备**：点击后弹出确认对话框 提示“接待录音缺失将影响工资绩效，请尽快报备”，确认后返回上级页面,取消则保留在当前页面。
3. **日历导航**：支持切换到上一周或者下一周查看历史日期的缺失接待记录，若当前日期是最新的一周，则不展示下一周切换按钮。

### 弹窗需求说明

#### 成功提示弹窗

**交互说明：**
1. 提交报备成功后回显提报那天的详情。

#### 放弃报备确认弹窗

**交互说明：**
1. 点击"放弃报备"按钮后显示确认弹窗。e
2. 弹窗包含警告图标、确认标题和提醒信息。
3. 提供"取消"和"确定"两个按钮。
4. 点击"取消"按钮关闭弹窗并返回报备页面。
5. 点击"确定"按钮关闭弹窗并返回首页。

### 页面交互说明

1. **日历选择**：
   - 默认显示当前周的日期，且默认选中当天日期（日期上有选中样式）
   - 未报备的日期显示红色小圆点标识；未填写的日期显示日报填写页面，且日期上显示红点，支持补填距离当天日期7个自然日内的日报
   - 今天日期有特殊样式标识
   - 未来日期不可选择
   - 点击日期后自动加载该日期的缺失接待客户列表
   - 已填写的日报以历史记录形式回显，且不允许重新编辑
   - 支持按日期查看历史日报记录
     - 若已填写，则回显相关日报
     - 若尚未填写
       - 支持补填：显示请输入和提交按钮
       - 不支持补填：显示暂无数据的图片及小字（已超过 7 个自然日，暂不支持补填操作）



2. **表单验证**：
   - 提交前检查所有缺失原因下拉框是否已选择
   - 未选择的下拉框会高亮显示并提示"请选择缺失原因"


## 埋点统计规范

埋点数据，需要通过企微群进行周推送，统计使用人数和使用次数

### 通用内容（适用于所有需求）

- 页面信息：记录页面ID或名称（接待缺失报备）
- 打开时间：记录页面加载的时间戳
- 使用者的UUID信息：记录唯一用户ID（从登录会话获取，并匿名化处理）

